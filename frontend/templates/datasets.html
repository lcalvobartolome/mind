{% extends "base.html" %}
{% block title %}Datasets{% endblock %}

{% block content %}
<h1 class="mt-4">Datasets</h1>
<p>Check below the datasets available for use.</p>

{% if datasets %}
<div id="accordion" class="mt-4">
    {% for ds in datasets %}
    <div class="card">
        <div class="card-header" id="heading{{ loop.index }}">
            <h5 class="mb-0">
                <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapse{{ loop.index }}"
                        aria-expanded="false" aria-controls="collapse{{ loop.index }}">
                    {{ names[loop.index - 1] }}
                </button>
            </h5>
        </div>

        <div id="collapse{{ loop.index }}" class="collapse" aria-labelledby="heading{{ loop.index }}"
             data-parent="#accordion">
            <div class="card-body">

                <p><strong>Shape:</strong> {{ shape[loop.index - 1][0] }} rows Ã— {{ shape[loop.index - 1][1] }} columns</p>

                <div class="table-responsive">
                    <table class="table table-sm table-striped table-bordered">
                        <thead class="thead-light">
                            <tr>
                                {% for col in ds[0] %}
                                    <th>{{ col }}</th>
                                {% endfor %}
                            </tr>
                        </thead>
                        <tbody>
                            {% for row in ds[:5] %}
                            <tr>
                                {% for cell in row.values() %}
                                    <td>{{ cell }}</td>
                                {% endfor %}
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>

            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<p>No datasets available.</p>
{% endif %}
{% endblock %}
